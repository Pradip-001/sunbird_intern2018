"use strict";angular.module("playerApp").service("announcementAdapter",["$rootScope","$http","httpAdapter","config","$q","toasterService",function(e,n,t,r,s,i){function o(n,r,o,u){var a=s.defer();return t.httpCall(n,r,o,"").then(function(e){e&&"OK"===e.responseCode?a.resolve(e):(i.error(u),a.reject(e))},function(n){i.error(e.messages.emsg.m0005),a.reject(n)}),a.promise}var u={"application/png":"PNG","application/pdf":"PDF","application/jpeg":"JPEG","application/jpg":"JPEG","image/png":"PNG","image/jpeg":"JPEG","image/jpg":"JPEG"};this.getOutBoxAnnouncementList=function(n,t){var s={request:{limit:n,offset:(t-1)*n}};return o(r.URL.ANNOUNCEMENT.OUTBOX_LIST,s,"POST",e.messages.fmsg.m0070)},this.getAnnouncementById=function(n){return o(r.URL.ANNOUNCEMENT.GET_BY_ID+n,"","GET",e.messages.fmsg.m0074)},this.getInboxAnnouncementList=function(n,t){var s={request:{limit:n,offset:(t-1)*n}};return o(r.URL.ANNOUNCEMENT.INBOX_LIST,s,"POST",e.messages.fmsg.m0072)},this.getFileExtension=function(e){return u[e]},this.createAnnouncement=function(e,n){var t={request:{title:e.title,from:e.from,type:e.type,description:e.description,links:e.links,sourceId:e.sourceId,target:e.target,attachments:e.attachments}};return o(n?r.URL.ANNOUNCEMENT.RESEND:r.URL.ANNOUNCEMENT.CREATE,t,"POST")},this.getDefinitions=function(e){var n={request:{rootOrgId:e,definitions:["announcementTypes"]}};return o(r.URL.ANNOUNCEMENT.DEFINITIONS,n,"POST")},this.readAnnouncement=function(n){var t={request:{announcementId:n,channel:"web"}};return o(r.URL.ANNOUNCEMENT.READ,t,"POST",e.messages.fmsg.m0073)},this.receivedAnnouncement=function(e){var n={request:{announcementId:e,channel:"web"}};return o(r.URL.ANNOUNCEMENT.RECEIVED,n,"POST")},this.deleteAnnouncement=function(n){var t={request:{announcementId:n}};return o(r.URL.ANNOUNCEMENT.CANCEL,t,"DELETE",e.messages.fmsg.m0071)},this.getResend=function(e){return o(r.URL.ANNOUNCEMENT.RESEND+e,{},"GET")}}]);