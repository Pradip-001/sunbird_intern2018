"use strict";angular.module("playerApp").service("restfulContentService",["$http","config","telemetryService","$rootScope",function(t,n,e,a){function o(){var t={"Content-Type":"application/json",cid:"sunbird"};return t.Accept="text/html,application/xhtml+xml,application/xml,application/json;q=0.9,image/webp,*/*;q=0.8",org.sunbird.portal.channel&&(t["X-Channel-Id"]=org.sunbird.portal.channel),t}function r(r,i,l,c,u){var p=c||o(),s=n.URL.BASE_PREFIX+n.URL.CONTENT_PREFIX+r,g={env:e.getConfigData("env"),rollup:e.getRollUpData(a.organisationIds)},d=e.getConfigData("message")||"api call to content service",h={edata:e.logEventData("api_call","INFO",d,""),context:e.getContextData(g),tags:_.concat([],org.sunbird.portal.channel)};return e.log(h),t({method:l,url:s,headers:p,params:u,data:{request:i}})}function i(t){return t.data}function l(t){return t.data&&440===t.status&&(alert("Session expired, please login again..."),window.document.location.replace("/logout")),t.data}this.post=function(t,n,e){return r(t,n,"POST",e).then(i,l)},this.get=function(t,n,e,a){return r(t,n,"GET",e,a).then(i,l)},this.remove=function(t,n,e){return r(t,n,"DELETE",e).then(i,l)}}]);