"use strict";angular.module("playerApp").service("orgCreationDataSource",["$q","$rootScope","httpAdapter","toasterService","dataSourceUtils",function(e,t,r,a,o){var n=this,s={"org.creation.content[@status=published].count":" LIVE","org.creation.content[@status=draft].count":" Created","org.creation.content[@status=review].count":" IN REVIEW"};this.getData=function(s){var c,u,i,p;return c=o.constructApiUrl(s,"ORG_CREATION"),p=o.getDefaultHeader(),u=e.defer(),i=r.httpCall(c,"","GET",p),i.then(function(e){e&&"OK"===e.responseCode?u.resolve(n.parseResponse(e.result)):(a.error(t.messages.fmsg.m0075),u.reject(e))},function(e){a.error(t.messages.emsg.m0005),u.reject(e)}),u.promise},n.parseResponse=function(e){return n.blockData=[],n.graphSeries=[],n.extractSnapshotData(e.snapshot),{bucketData:e.series,name:"5w"===e.period?"Content created per week":"Content created per day",numericData:n.blockData,series:n.graphSeries}},n.extractSnapshotData=function(e){angular.forEach(e,function(e,t){switch(t){case"org.creation.authors.count":case"org.creation.reviewers.count":case"org.creation.content.count":n.blockData.push(e);break;default:n.graphSeries.push(e.value+s[t])}})}}]);