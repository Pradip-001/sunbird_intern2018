"use strict";angular.module("playerApp").service("courseProgressDataSource",["$q","$rootScope","httpAdapter","toasterService","dataSourceUtils",function(e,r,t,s,a){var o=this;this.getData=function(c){var n,u,p;return n=a.constructApiUrl(c,"COURSE_PROGRESS"),u=e.defer(),p=a.getDefaultHeader(),t.httpCall(n,"","GET",p).then(function(e){e&&"OK"===e.responseCode?u.resolve(o.parseResponse(e.result)):(s.error(r.messages.fmsg.m0075),u.reject(e))}).catch(function(e){s.error(r.messages.emsg.m0005),u.reject(e)}),u.promise},o.parseResponse=function(e){return o.tableData=[],angular.forEach(e.series,function(e,r){"course.progress.course_progress_per_user.count"===r&&angular.forEach(e,function(e,r){"buckets"===r&&(o.tableData=e)})}),o.tableData}}]);