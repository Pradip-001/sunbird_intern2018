"use strict";angular.module("loginApp").service("httpService",["$http","$filter","uuid4",function(t,e,n){function i(){var t={"Content-Type":"application/json",Accept:"application/json","X-Consumer-ID":"X-Consumer-ID","X-Device-ID":"X-Device-ID","X-msgid":n.generate(),ts:e("date")(new Date,"yyyy-MM-dd HH:mm:ss:sssZ")};return t.Accept="text/html,application/xhtml+xml,application/xml,application/json;q=0.9,image/webp,*/*;q=0.8",t}function a(e,n,a,r){var o=r||i();return t({method:a,url:e,headers:o,data:n})}function r(t){return t.data}function o(t){return t.data}this.post=function(t,e,n){return a(t,e,"POST",n).then(r,o)},this.get=function(t,e,n){return a(t,e,"GET",n).then(r,o)}}]);
"use strict";angular.module("loginApp").service("signUpService",["httpService","config",function(i,n){this.signUp=function(e){var t=n.URL.BASE_PREFIX+n.URL.LEARNER_PREFIX+n.URL.USER.SIGNUP;return i.post(t,e)}}]);
"use strict";angular.module("loginApp").service("toasterService",[function(){iziToast.settings({position:"topCenter",titleSize:"18"}),this.success=function(i){iziToast.success({title:i})},this.info=function(i){iziToast.info({title:i})},this.error=function(i){iziToast.error({progressBar:!1,timeout:!1,title:i})},this.warning=function(i){iziToast.warning({title:i})},this.loader=function(i,t){var e={};return e.showLoader=!0,e.headerMessage=i,e.loaderMessage=t,e}}]);
"use strict";angular.module("loginApp").service("contentService",["httpService","config",function(t,e){this.getById=function(n){var R=e.URL.BASE_PREFIX+e.URL.CONTENT_PREFIX+e.URL.CONTENT.GET+"/"+n.contentId;return t.get(R,n,null)},this.courseHierarchy=function(n){var R=e.URL.BASE_PREFIX+e.URL.CONTENT_PREFIX+e.URL.COURSE.HIERARCHY+"/"+n;return t.get(R)},this.search=function(n){var R=e.URL.BASE_PREFIX+e.URL.CONTENT_PREFIX+e.URL.COMPOSITE.SEARCH;return t.post(R,n)}}]);
"use strict";angular.module("loginApp").directive("errorMessage",[function(){return{template:'<div class="ui huge {{errorClass}} message" ng-if="message"><i ng-if="isClose" class="close icon" ng-click="closeErrorMessage()"></i><span>{{message}}</span></div>',restrict:"E",scope:{visibility:"="},link:function(s,e,a){a.data=a.data?JSON.parse(a.data):void 0,s.isClose=!(!a.data||!a.data.isClose)&&a.data.isClose,a.data&&"info"===a.data.messageType?(s.message=a.data.message?a.data.message:"Something wrong try in sometime.",s.errorClass="info"):a.data&&"warning"===a.data.messageType?(s.message=a.data.message?a.data.message:"Something wrong try in sometime.",s.errorClass="warning"):a.data&&"error"===a.data.messageType?(s.message=a.data.message?a.data.message:"Something wrong try in sometime.",s.errorClass="error"):a.data&&"success"===a.data.messageType&&(s.message=a.data.message?a.data.message:"Success.",s.errorClass="success"),s.closeErrorMessage=function(){s.visibility=!1}}}}]);
"use strict";angular.module("loginApp").directive("appLoader",[function(){return{templateUrl:"views/errorhandler/loaderWithMessage.html",restrict:"E",link:function(a,e,t){t.data=t.data?JSON.parse(t.data):void 0,a.headerMessage=t.data&&t.data.headerMessage?t.data.headerMessage:"Please wait.",a.loaderMessage=t.data&&t.data.loaderMessage?t.data.loaderMessage:"We are fetching details"}}}]);
"use strict";angular.module("loginApp").directive("courseDiscussions",[function(){return{templateUrl:"views/course/courseDiscussions.html",restrict:"E",scope:{showaskquestion:"="},link:function(s,e,i){s.showAskQuestion=s.showaskquestion}}}]);
"use strict";angular.module("loginApp").directive("contentPlayer",[function(){return{templateUrl:"views/contentplayer/player.html",restrict:"E",scope:{id:"=",body:"=",visibility:"=",isshowmetaview:"=",isclose:"=",isheader:"=",height:"=",width:"=",ispercentage:"=",closeurl:"="},link:function(e,t,i){e.ispercentage?($("#contentPlayer").css("height",e.height+"%"),$("#contentPlayer").css("width",e.width+"%")):($("#contentPlayer").css("height",e.height+"px"),$("#contentPlayer").css("width",e.width+"px"))},controller:"contentPlayerCtrl"}}]);
"use strict";angular.module("loginApp").controller("SignUpCtrl",["signUpService","$timeout","$filter","$location","$rootScope","toasterService",function(e,s,a,r,o,t){var m=this,n=new Date;m.languages=o.frmelmnts.lbl.languages.split(","),m.formValidation=function(){$(".ui.form").form({fields:{userName:{rules:[{type:"regExp[^[-\\w.\\$@*\\!]{5,256}$]",prompt:o.messages.stmsg.m0087}]},password:{rules:[{type:"empty",prompt:o.messages.stmsg.m0088}]},firstName:{rules:[{type:"regExp[^[0-9]*[A-Za-z\\s][0-9A-Za-z\\s]*$]",prompt:o.messages.stmsg.m0092}]},phone:{rules:[{type:"regExp[^\\d{10}$]",prompt:o.messages.stmsg.m0091}]},email:{rules:[{type:"regExp[/^([a-zA-Z0-9_.+\\-])+\\@(([a-zA-Z0-9-])+\\.)+([a-zA-Z0-9]{2,4})+$/]",prompt:o.messages.stmsg.m0089}]},language:{rules:[{type:"empty",prompt:o.messages.stmsg.m0090}]}},onSuccess:function(){return!0},onFailure:function(){return!1}})},m.dropdown=function(){$("#headerSearchtab").dropdown(),$("#headerSearchmob").dropdown()},m.showModal=function(){m.firstName="",m.lastName="",m.password="",m.email="",m.userName="",m.phone="",m.language=[],s(function(){$(".ui.form").trigger("reset"),$(".ui.form .field.error").removeClass(o.messages.emsg.m0002),$(".ui.form.error").removeClass(o.messages.emsg.m0002),$(".dropdown").dropdown("clear"),$("ui.fluid.dropdown.signupMultiple").dropdown({placeholder:"Languages"}),$(".ui .modal").modal("show"),$("#signupModal").modal({closable:!1})}),s(function(){$("#dobCalendar").calendar({type:"date",maxDate:n,formatter:{date:function(e){return e?e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear():""}}})},1500)},m.formInit=function(){s(function(){$(".signupMultiple").dropdown(),$("#dobCalendar").calendar({type:"date",maxDate:n,formatter:{date:function(e){return e?e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear():""}}})},1500)},m.submitForm=function(){var e=$("#dobCalendar").calendar("get date");if(m.dob=a("date")(e,"yyyy-MM-dd"),m.formValidation(),!0!==$(".ui.form").form("validate form"))return $(".ui .modal").modal("refresh"),!1;m.signUp()},m.getErrorMsg=function(e){return"USER_ALREADY_EXIST"===e?o.messages.stmsg.m0085:"USERNAME_EMAIL_IN_USE"===e?o.messages.stmsg.m0086:o.messages.emsg.m0005},m.signUp=function(){m.request={params:{},request:{firstName:m.firstName,lastName:m.lastName,password:m.password,email:m.email,userName:m.userName.trim(),phone:m.phone,language:[m.language]}},m.loader=t.loader("",o.messages.stmsg.m0084);var a=m.request;$(".ui .modal").modal("show"),$("#signupModal").modal({closable:!1}),e.signUp(a).then(function(e){if(e&&"OK"===e.responseCode)m.loader.showLoader=!1,r.path("/private/index"),m.loader.showLoader=!1,t.success(o.messages.smsg.m0039),s(function(){$(".ui .modal").modal("hide")},2e3);else{m.loader.showLoader=!1;var a=_.get(e,"params.errmsg")||o.messages.fmsg.m0051;t.error(a)}}).catch(function(){m.loader.showLoader=!1,t.error(o.messages.emsg.m0005)})}}]);
"use strict";angular.module("loginApp").controller("contentPlayerCtrl",["$state","$scope","$timeout","$stateParams","$rootScope","config","contentService","toasterService","$location","$anchorScroll",function(e,t,n,o,a,i,c,r,s,l){function d(e){return _.isArray(e)?_.compact(e).join(", "):""}function g(e){t.contentData=e,t.contentData.language=d(t.contentData.language),t.contentData.gradeLevel=d(t.contentData.gradeLevel),t.contentData.subject=d(t.contentData.subject),t._instance={id:t.contentData.identifier,ver:t.contentData.pkgVersion},t.showMetaData=t.isshowmetaview,a.contentId=t.contentData.identifier,t.showIFrameContent=!0;var o=i.ekstep_CP_config.baseURL;n(function(){var n=$("#contentViewerIframe")[0];n.src=o,n.onload=function(){t.adjustPlayerHeight();var o=t.getContentEditorConfig(e);n.contentWindow.initializePreview(o),t.gotoBottom()}},0)}function u(n){var o={contentId:n},s={fields:"body,editorState,stageIcons,templateId,languageCode,template,gradeLevel,status,concepts,versionKey,name,appIcon,contentType,owner,domain,code,visibility,createdBy,description,language,mediaType,osId,languageCode,createdOn,lastUpdatedOn,audience,ageGroup,attributions,artifactUrl,mimeType,medium,year,publisher,creator"};c.getById(o,s).then(function(o){if(o&&"OK"===o.responseCode)if(-1===i.CONTENT_TYPE.resource.indexOf(o.result.content.contentType)&&(r.warning(a.messages.fmsg.m0065),e.go("Landing")),t.errorObject={},o.result.content.mimeType===i.MIME_TYPE.collection){var c=o.result.content;window.localStorage.setItem("redirectUrl","/preview/collection/"+n+"/"+c.name+"/"),e.go("PublicCollection",{contentId:c.identifier,name:c.name})}else g(o.result.content),t.isClose||(a.titleName=o.result.content.name,window.localStorage.setItem("redirectUrl","/content/"+n+"/"+o.result.content.name));else r.error(a.messages.fmsg.m0049),e.go("Landing")}).catch(function(){r.error(a.messages.fmsg.m0049),e.go("Landing")})}t.isHeader=t.isheader,t.isClose=t.isclose,t.showModalInLectureView=!0,t.contentProgress=0,t.getContentEditorConfig=function(e){var n={};return n.context=i.ekstep_CP_config.context,n.context.contentId=t.contentData.identifier,n.context.sid=a.sessionId,n.context.uid=a.userId,n.context.partner=[],n.context.cdata=[{id:o.courseId,type:"course"}],n.context.pdata={id:$("#producerId").attr("value"),ver:"1.0",pid:"sunbird-portal"},n.config=i.ekstep_CP_config.config,n.config.plugins=i.ekstep_CP_config.config.plugins,n.config.repos=i.ekstep_CP_config.config.repos,n.metadata=t.contentData,n.data=t.contentData.mimeType!==i.MIME_TYPE.ecml?{}:e.body,n.config.overlay=i.ekstep_CP_config.config.overlay||{},n.config.overlay.showUser=!1,n},t.adjustPlayerHeight=function(){var e=$("#contentViewerIframe").width();if(e){var t=e*(9/16);$("#contentViewerIframe").css("height",t+"px")}},t.close=function(){t.visibility=!1},t.init=function(){t.errorObject={},u(t.id)},t.$watch("id",function(e,t){u(e)}),t.getConceptsNames=function(e){if(_.isArray(e)){return _.map(e,"name").join(", ")}},t.gotoBottom=function(){$("html, body").animate({scrollTop:$("#player-auto-scroll").offset().top},500)}}]);
"use strict";angular.module("loginApp").controller("courseScheduleCtrl",["contentService","$stateParams","$state","$timeout","$scope","$rootScope","toasterService","$location","$window","config",function(e,t,n,o,r,s,a,i,c,l){var u=this;u.playList=[],u.playListContent=[],u.loading=!1,u.courseParams=t,r.contentList=[],u.contentList=[],u.showNoteInLecture=!0,u.enrollErrorMessage="",u.fancyTree=[],u.treeKey=0,u.uid=s.userId,u.statusClass={0:"grey",1:"blue",2:"green"},u.showError=function(e){u.loader.showLoader=!1,u.error.showError=!0,u.error.message=e},u.storeCourseDetail=function(e,t){var n={COURSE_PARAMS:{courseType:"OTHER_COURSE",courseId:t,lectureView:"yes",progress:0,total:u.courseTotal,courseName:e,lastReadContentId:null}};c.sessionStorage.setItem("sbConfig",JSON.stringify(n))},u.getCourseToc=function(){u.loader=a.loader("",s.messages.stmsg.m0003),e.courseHierarchy(u.courseId).then(function(e){if(e&&"OK"===e.responseCode){if(l.CONTENT_TYPE.course!==e.result.content.contentType)return a.warning("Invalid course access"),void n.go("Landing");s.titleName=e.result.content.name,window.localStorage.setItem("redirectUrl","/course/"+u.courseId+"/yes"),u.loader.showLoader=!1,e.result.content.children=_.sortBy(e.result.content.children,["index"]),u.getAllContentsFromCourse(e.result.content),u.contentCountByType=_.countBy(u.playListContent,"mimeType"),u.courseTotal=u.courseTotal||u.playList.length,u.courseParams.lastReadContentId&&(u.itemIndex=u.playList.indexOf(u.courseParams.lastReadContentId)),u.courseHierachy=e.result.content,s.courseName=u.courseHierachy.name,u.applyAccordion(),u.storeCourseDetail(s.courseName,u.courseId)}else u.loader.showLoader=!1,a.error(s.messages.fmsg.m0003),n.go("Landing")},function(){u.loader.showLoader=!1,a.error(s.messages.fmsg.m0003),n.go("Landing")})},u.expandMe=function(e,t){if(t&&t.mimeType&&"application/vnd.ekstep.content-collection"!==t.mimeType)u.itemIndex=u.playList.indexOf(t.identifier),u.playPlaylistContent(t.identifier,"");else{var n=$(e.target).closest(".title").find("i");u.updateIcon(n,!$(n).hasClass("plus"))}},u.updateIcon=function(e,t){t?$(e).addClass("plus").removeClass("minus"):$(e).addClass("minus").removeClass("plus")},u.checkAndAddToPlaylist=function(e){"application/vnd.ekstep.content-collection"!==e.mimeType&&-1===u.playList.indexOf(e.identifier)&&(u.playList.push(e.identifier),u.playListContent.push(e))},u.getAllChildrenCount=function(e){return u.getChildNodeCount(u.courseHierachy.children[e],0)},u.getChildNodeCount=function(e,t){return void 0===e.children||0===e.children.length?t:(t+=e.children.length,e.children.forEach(function(e){var n=u.getChildNodeCount(e,t);t=parseInt(n,10)}),t)},u.getAllContentsFromCourse=function(e){return"application/vnd.ekstep.content-collection"!==e.mimeType?(u.playList.push(e.identifier),u.playListContent.push(e)):angular.forEach(e.children,function(t,n){u.getAllContentsFromCourse(e.children[n])}),u.playList},u.getTreeData=function(e,t){return"application/vnd.ekstep.content-collection"!==e.mimeType?(t.push({title:'<span id="node'+u.treeKey+'" class="padded"><img src="'+u.getContentIcon(e.mimeType)+'" class="tocCourseStructureImg">'+e.name+'</span><button id="resume-button-'+u.treeKey+'" class="toc-resume-button contentVisibility-hidden blue right floated ui small button">RESUME</button',key:u.treeKey,data:e,icon:!1}),u.treeKey+=1):(t.push({title:'<span class="courseAccordianDesc"><i class="'+u.getContentIcon(e.mimeType)+'"></i>'+e.name+"</span>",key:-1,children:[],icon:!1}),angular.forEach(e.children,function(n,o){u.getTreeData(e.children[o],t[t.length-1].children)})),u.fancyTree},u.getContentClass=function(e){var t={0:"grey",1:"blue",2:"green"};return"ENROLLED_COURSE"===u.courseType?t[u.contentStatusList[e]||0]:0},u.getContentIcon=function(e,t){return t=t||"",{"application/pdf":"/common/images/pdf"+t+".png","video/mp4":"/common/images/video"+t+".png","video/x-youtube":"/common/images/video"+t+".png","video/youtube":"/common/images/video"+t+".png","application/vnd.ekstep.html-archive":"/common/images/app"+t+".png","application/vnd.ekstep.ecml-archive":"/common/images/app"+t+".png","application/epub":"/common/images/app"+t+".png","application/vnd.ekstep.h5p-archive":"/common/images/video"+t+".png","application/vnd.ekstep.content-collection":"/common/images/folder.png"}[e]},u.applyAccordion=function(){o(function(){$(".ui.accordion").accordion({exclusive:!1}),"ENROLLED_COURSE"===u.courseType&&u.playList.length>0&&"no"===u.lectureView&&"Flagged"!==u.courseHierachy.status&&u.resumeCourse();var e=parseInt(100*u.courseProgress/u.courseTotal,0);$(".toc-resume-button").addClass("contentVisibility-hidden"),$("#tocProgress").progress({percent:e})},100)},u.constructTree=function(e,t){u.fancyTree=[],angular.forEach(t,function(e,t){u.getTreeData(e,u.fancyTree)}),u.initializeFancyTree("#FT_"+e,u.fancyTree)},u.initializeFancyTree=function(e,t){o(function(){$(e).fancytree({checkbox:!1,source:t,click:function(e,t){var n=t.node;-1!==n.key&&u.expandMe(n.key,n.data)},create:function(e,t){"OTHER_COURSE"===u.courseType&&$(".fancytree-title").addClass("noselect")}}),$(".fancytree-container").addClass("fancytree-connectors")},0)},u.fetchObjectAttributeAsArrayOrObject=function(e,t,n,o){var r=!0===o?{}:[];for(var s in e)void 0!==e[s]&&(o?r[e[s][t]]=n?e[s][n]:e[s]:r.push(e[s][t]));return r},r.$watch("contentPlayer.isContentPlayerEnabled",function(e,t){$(".toc-resume-button").addClass("contentVisibility-hidden"),!0===t&&!1===e&&(u.hashId="",i.hash(u.hashId),u.getContentState(),$(".fancy-tree-container").each(function(){var e=this.id;$(this).fancytree("getTree").visit(function(t){t.key===u.itemIndex.toString()?(o(function(){$("#"+e).closest(".accordion").find(".title").hasClass("active")||$("#"+e).closest(".accordion").find(".title").trigger("click"),t.setActive(!1)},10),t.setExpanded(!0),t.setActive(!0),t.setFocus(!1),$("#resume-button-"+u.itemIndex).removeClass("contentVisibility-hidden")):(t.setActive(!1),t.setFocus(!1))})}),u.updateBreadCrumbs())}),u.updateBreadCrumbs=function(){if(s.breadCrumbsData=[{name:"Home",link:"home"},{name:"Courses",link:"learn"},{name:u.courseName,link:"/toc//"+u.courseId+"/"+u.lectureView}],r.contentPlayer.isContentPlayerEnabled){var e=u.playListContent[u.itemIndex].name;u.courseParams.contentName=e,u.courseParams.contentId=u.playList[u.itemIndex],u.courseParams.contentIndex=u.itemIndex;var t={name:e,link:""};sessionService.setSessionData("COURSE_PARAMS",u.courseParams),s.breadCrumbsData[3]?s.breadCrumbsData[3]=t:s.breadCrumbsData.push(t)}},u.init=function(){u.lectureView=u.courseParams.lectureView,u.courseId=u.courseParams.courseId,u.courseTotal=u.courseParams.total,u.courseName=u.courseParams.courseName,u.contentStatusList={},r.enableCloseButton="yes"===u.lectureView?"false":"true",u.nightMode=!0,u.itemIndex=parseInt(t.contentIndex,0)||0,r.contentPlayer={isContentPlayerEnabled:!1},u.loader={showLoader:!1,loaderMessage:"",enrollLoader:!1},u.error={showError:!1,message:"",messageType:"error",isClose:!1,showEnrollError:!1},u.playItemIndex=void 0,u.getCourseToc()},u.loadData=function(){u.courseParams.courseId!==t.courseId||u.init()}}]);
"use strict";!function(){angular.module("loginApp").controller("CollectionPlayerCtrl",["$state","$timeout","contentService","$rootScope","$stateParams",function(e,n,o,a,t){var c=this;c.treeKey=0,c.loader={showLoader:!1,loaderMessage:"",enrollLoader:!1},c.error={showError:!1,message:"",messageType:"error",isClose:!1,showEnrollError:!1},c.collectionMeta={creator:"-",language:"-",gradeLevel:"-",subject:"-",medium:"-",lastUpdatedOn:"-",createdOn:"-"},c.showPlayer=!1,c.name=e.params.name,a.titleName=c.name,c.loadData=function(){c.loader.showLoader=!0,c.loader.loaderMessage=a.messages.stmsg.m0076,o.courseHierarchy(e.params.contentId).then(function(e){e&&"OK"===e.responseCode?(c.loader.showLoader=!1,e.result.content.children=_.sortBy(e.result.content.children,["index"]),c.courseHierachy=e.result.content,c.collectionMeta.creator=c.courseHierachy.creator,c.collectionMeta.language=c.courseHierachy.language,c.collectionMeta.gradeLevel=c.courseHierachy.gradeLevel,c.collectionMeta.subject=c.courseHierachy.subject,c.collectionMeta.medium=c.courseHierachy.medium,c.collectionMeta.lastUpdatedOn=c.courseHierachy.lastUpdatedOn,c.collectionMeta.createdOn=c.courseHierachy.createdOn,c.applyAccordion()):c.showError(a.messages.emsg.m0004)},function(){c.showError(a.messages.emsg.m0004)})},c.constructTree=function(e,n){c.fancyTree=[],angular.forEach(n,function(e,n){c.getTreeData(e,c.fancyTree)}),c.initializeFancyTree("#FT_"+e,c.fancyTree)},c.getTreeData=function(e,n){return"application/vnd.ekstep.content-collection"!==e.mimeType?(n.push({title:"<span id='node"+c.treeKey+"' class='padded'><i class='"+c.getContentIcon(e.mimeType)+"'></i>"+e.name+"</span>",key:c.treeKey,data:e,icon:!1}),c.treeKey+=1):(n.push({title:"<span class='courseAccordianDesc'><i class='"+c.getContentIcon(e.mimeType)+"'></i>"+e.name+"</span>",key:-1,children:[],icon:!1}),angular.forEach(e.children,function(o,a){c.getTreeData(e.children[a],n[n.length-1].children)})),c.fancyTree},c.initializeFancyTree=function(e,o){n(function(){$(e).fancytree({checkbox:!1,source:o,click:function(e,n){var o=n.node;-1!==o.key&&c.expandMe(o.key,o.data)},create:function(e,n){$(".fancytree-container").addClass("fancytree-connectors")}})},0)},c.expandMe=function(e,n){if(n&&n.mimeType&&"application/vnd.ekstep.content-collection"!==n.mimeType)c.playContent(n);else{var o=$(e.target).closest(".title").find("i");c.updateIcon(o,!$(o).hasClass("plus"))}},c.getContentIcon=function(e){return{"application/pdf":"large file pdf outline icon","image/jpeg":"large file image outline icon","image/jpg":"large file image outline icon","image/png":"large file image outline icon","video/mp4":"large file video outline icon","video/ogg":"large file video outline icon","video/youtube":"large youtube square icon","application/vnd.ekstep.html-archive":"large html5 icon","application/vnd.ekstep.ecml-archive":"large file archive outline icon","application/vnd.ekstep.content-collection":"large folder open outline icon grey icon"}[e]},c.updateIcon=function(e,n){n?$(e).addClass("plus").removeClass("minus"):$(e).addClass("minus").removeClass("plus")},c.applyAccordion=function(){n(function(){$(".ui.accordion").accordion({exclusive:!1})},100)},c.playContent=function(e){c.contentId=e.identifier,c.showPlayer=!0},c.closePlayer=function(){if("Profile"===t.backState)return void e.go(t.backState);""!==a.search.searchKeyword?n(function(){a.$emit("initSearch",{})},0):e.go("Resources")},c.loadData()}])}();
"use strict";angular.module("loginApp").filter("dateFilterWithMDY",function(){return function(t){return moment(t).format("MMMM Do YYYY")}}).filter("dateFilterXTimeAgo",function(){return function(t){var r=moment(t).local().format("YYYY-MM-DD HH:mm:ss");return moment(r).fromNow()}});
!function(){angular.module("loginApp").controller("dialCodeController",["$state","$timeout","contentService","$rootScope","$stateParams","toasterService",function(e,o,r,n,t,a){console.log("dialCodeController intialized");var i=this;i.appFooter=!1,i.loader={showLoader:!0,loaderMessage:"",enrollLoader:!1},i.searchKeyword=null,i.dailCodeBackground=n.dailCodeBackground,i.search=function(o){if(i.searchKeyword){var r={dialcode:i.searchKeyword};e.go("dialCode",r)}},i.compositeSearch=function(o){var t={request:{filters:{dialcodes:o}}};i.playContent=function(o){var r={id:o.identifier};e.go("PublicContent",r)},i.openCollectionView=function(o){var r={contentId:o.identifier,name:o.name};e.go("PublicCollection",r)},r.search(t).then(function(e){e&&"OK"===e.responseCode?e.result.content&&e.result.content.length>0?i.searchResults=e.result.content:a.error(n.messages.stmsg.m0006):a.error(n.messages.fmsg.m0049),i.loader.showLoader=!1},function(){i.loader.showLoader=!1,a.error(n.messages.fmsg.m0049)})},i.init=function(){i.dialcode=e.params.dialcode,i.dialcode&&i.compositeSearch(i.dialcode)},i.init()}])}();
"use strict";angular.module("loginApp").filter("Filesize",function(){return function(e){return isNaN(e)&&(e=0),e<1024?e+" Bytes":(e/=1024)<1024?e.toFixed(2)+" Kb":(e/=1024)<1024?e.toFixed(2)+" Mb":(e/=1024)<1024?e.toFixed(2)+" Gb":(e/=1024,e.toFixed(2)+" Tb")}});